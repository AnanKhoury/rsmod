apply plugin: 'application'
apply plugin: 'org.jetbrains.kotlin.jvm'
apply from: "$rootDir/gradle/kotlin.gradle"

description = 'RSMod Game'
mainClassName = 'gg.rsmod.Server'

dependencies {
    compile project(':util')
    compile project(':net')

    testImplementation group: 'junit', name: 'junit', version: junitVersion
    testCompile "org.jetbrains.kotlin:kotlin-test-junit:$kotlinVersion"

    compile group: 'org.jetbrains.kotlin', name: 'kotlin-stdlib-jdk8'
    compile group: 'org.jetbrains.kotlin', name: 'kotlin-scripting-common'
    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.1.0'

    compile group: 'org.reflections', name: 'reflections', version: reflectionsVersion
    compile group: 'commons-io', name: 'commons-io', version: commonsIoVersion

    compile 'org.apache.logging.log4j:log4j-api:2.8.2'
    compile 'org.apache.logging.log4j:log4j-core:2.8.2'

    implementation group: 'com.lambdaworks', name: 'scrypt', version: scryptVersion
    implementation group: 'io.netty', name: 'netty-all', version: nettyVersion
    implementation group: 'com.google.guava', name: 'guava', version: guavaVersion
    implementation group: 'org.bouncycastle', name: 'bcprov-jdk15on', version: bouncycastleVersion
    implementation group: 'com.github.runelite.runelite', name: 'cache', version: runeliteVersion
}

applicationDistribution.from("$rootDir/data/") {
    include '**'
    exclude 'saves/*'
    exclude '*.example.yml'
    into 'bin/data/'
}

applicationDistribution.from("$rootDir") {
    include 'plugins/*'
    include 'game.example.yml'
    into 'bin/'
}