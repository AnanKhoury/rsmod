# Outgoing packets (sent from server to client) go in the out-packets section.
# Incoming packets (sent from client to server) go in the in-packets section.

out-packets:

  - message: gg.rsmod.game.message.impl.LoginRegionMessage
    type: VARIABLE_SHORT
    opcode: 0
    structure:
      - name: gpi
        type: BYTES
      - name: z
        order: LITTLE
        type: SHORT
        trans: ADD
      - name: x
        type: SHORT
        trans: ADD
      - name: xteas
        type: BYTES

  - message: gg.rsmod.game.message.impl.ChangeStaticRegionMessage
    type: VARIABLE_SHORT
    opcode: 0
    structure:
      - name: z
        order: LITTLE
        type: SHORT
        trans: ADD
      - name: x
        type: SHORT
        trans: ADD
      - name: xteas
        type: BYTES

  - message: gg.rsmod.game.message.impl.SetDisplayInterfaceMessage
    type: FIXED
    opcode: 84
    structure:
      - name: interfaceId
        order: LITTLE
        type: SHORT
        trans: ADD

  - message: gg.rsmod.game.message.impl.OpenInterfaceMessage
    type: FIXED
    opcode: 77
    structure:
      - name: type
        trans: ADD
        type: BYTE
      - name: overlay
        order: MIDDLE
        type: INT
      - name: interfaceId
        order: LITTLE
        type: SHORT
        trans: ADD

  - message: gg.rsmod.game.message.impl.SetChunkToRegionOffset
    type: FIXED
    opcode: 64
    structure:
      - name: x
        type: BYTE
        trans: NEGATE
      - name: z
        type: BYTE
        trans: SUBTRACT

  - message: gg.rsmod.game.message.impl.SpawnEntityGroupsMessage
    type: VARIABLE_SHORT
    opcode: 17
    structure:
      - name: x
        type: BYTE
        trans: SUBTRACT
      - name: z
        type: BYTE
        trans: NEGATE
      - name: payload
        type: BYTES

  - message: gg.rsmod.game.message.impl.SpawnObjectMessage
    type: FIXED
    opcode: 6
    structure:
      - name: tile
        type: BYTE
        trans: ADD
      - name: settings
        type: BYTE
        trans: SUBTRACT
      - name: id
        type: SHORT
        trans: ADD

  - message: gg.rsmod.game.message.impl.RemoveObjectMessage
    type: FIXED
    opcode: 13
    structure:
      - name: tile
        type: BYTE
        tran: SUBTRACT
      - name: settings
        type: BYTE
        trans: SUBTRACT

  - message: gg.rsmod.game.message.impl.SetSmallVarpMessage
    type: FIXED
    opcode: 63
    structure:
      - name: value
        type: BYTE
        trans: ADD
      - name: id
        type: SHORT
        trans: ADD

  - message: gg.rsmod.game.message.impl.SetBigVarpMessage
    type: FIXED
    opcode: 4
    structure:
      - name: id
        type: SHORT
      - name: value
        type: INT

  - message: gg.rsmod.game.message.impl.InvokeScriptMessage
    type: VARIABLE_SHORT
    opcode: 62
    structure:
      - name: types
        type: BYTES
      - name: args
        type: BYTES
      - name: id
        type: INT

  - message: gg.rsmod.game.message.impl.SendChatboxTextMessage
    type: VARIABLE_BYTE
    opcode: 3
    structure:
      - name: type
        type: BYTE
      - name: check_ignore
        type: BYTE
      - name: username
        type: BYTES
      - name: message
        type: BYTES

  - message: gg.rsmod.game.message.impl.SendLogoutMessage
    type: FIXED
    opcode: 1

  - message: gg.rsmod.game.message.impl.SendSkillMessage
    type: FIXED
    opcode: 22
    structure:
      - name: xp
        order: LITTLE
        type: INT
      - name: skill
        type: BYTE
        trans: NEGATE
      - name: level
        type: BYTE

  - message: gg.rsmod.game.message.impl.SetInterfaceTextMessage
    type: VARIABLE_SHORT
    opcode: 19
    structure:
      - name: hash
        type: INT
      - name: text
        type: BYTES

  - message: gg.rsmod.game.message.impl.SetRunEnergyMessage
    type: FIXED
    opcode: 60
    structure:
      - name: energy
        type: BYTE

  - message: gg.rsmod.game.message.impl.CloseInterfaceMessage
    type: FIXED
    opcode: 9
    structure:
      - name: hash
        type: INT

  - message: gg.rsmod.game.message.impl.SetInterfaceSettingMessage
    type: FIXED
    opcode: 48
    structure:
      - name: setting
        type: INT
        order: LITTLE
      - name: to
        type: SHORT
        trans: ADD
      - name: hash
        type: INT
        order: INVERSED_MIDDLE
      - name: from
        type: SHORT

  - message: gg.rsmod.game.message.impl.SetInterfaceHiddenMessage
    type: FIXED
    opcode: 21
    structure:
      - name: hash
        type: INT
      - name: hidden
        type: BYTE

  - message: gg.rsmod.game.message.impl.SetInterfaceItemMessage
    type: FIXED
    opcode: 57
    structure:
      - name: hash
        type: INT
      - name: item
        type: SHORT
      - name: amount
        type: INT
        order: INVERSED_MIDDLE

  - message: gg.rsmod.game.message.impl.SetInterfaceNpcMessage
    type: FIXED
    opcode: 35
    structure:
      - name: npc
        order: LITTLE
        type: SHORT
        trans: ADD
      - name: hash
        type: INT
        order: INVERSED_MIDDLE

  - message: gg.rsmod.game.message.impl.SetInterfaceAnimationMessage
    type: FIXED
    opcode: 61
    structure:
      - name: anim
        type: SHORT
      - name: hash
        type: INT
        order: INVERSED_MIDDLE

  - message: gg.rsmod.game.message.impl.SetMinimapMarkerMessage
    type: FIXED
    opcode: 67
    structure:
      - name: x
        type: BYTE
      - name: z
        type: BYTE

  - message: gg.rsmod.game.message.impl.SetItemContainerMessage
    type: VARIABLE_SHORT
    opcode: 70
    structure:
      - name: interfaceHash
        type: INT
      - name: containerKey
        type: SHORT
      - name: itemCount
        type: SHORT
      - name: items
        type: BYTES

in-packets:

  - message: gg.rsmod.game.message.impl.CommandMessage
    type: VARIABLE_BYTE
    opcode: 60
    structure:
      - name: command
        type: STRING

  - message: gg.rsmod.game.message.impl.ChangeDisplayModeMessage
    type: FIXED
    opcode: 35
    length: 5
    structure:
      - name: mode
        type: BYTE
      - name: width
        sign: UNSIGNED
        type: SHORT
      - name: height
        sign: UNSIGNED
        type: SHORT

  - message: gg.rsmod.game.message.impl.ClickMapMessage
    type: VARIABLE_BYTE
    opcode: 96
    structure:
      - name: z
        sign: UNSIGNED
        type: SHORT
        trans: ADD
      - name: x
        sign: UNSIGNED
        type: SHORT
        trans: ADD
      - name: movement_type
        type: BYTE
        trans: ADD

  - message: gg.rsmod.game.message.impl.ClickMinimapMessage
    type: VARIABLE_BYTE
    opcode: 52
    structure:
      - name: z
        sign: UNSIGNED
        type: SHORT
        trans: ADD
      - name: x
        sign: UNSIGNED
        type: SHORT
        trans: ADD
      - name: movement_type
        type: BYTE
        trans: ADD

  - message: gg.rsmod.game.message.impl.ObjectActionOneMessage
    type: FIXED
    opcode: 10
    length: 7
    structure:
      - name: z
        type: SHORT
        sign: UNSIGNED
      - name: movement_type
        type: BYTE
        trans: SUBTRACT
      - name: id
        sign: UNSIGNED
        type: SHORT
        trans: ADD
      - name: x
        sign: UNSIGNED
        order: LITTLE
        type: SHORT
        trans: ADD

  - message: gg.rsmod.game.message.impl.ClickButtonMessage
    type: FIXED
    opcodes: 68,21,48,19,40,66,85,14,84,0
    length: 8
    structure:
      - name: hash
        type: INT
      - name: slot
        sign: UNSIGNED
        type: SHORT
      - name: item
        sign: UNSIGNED
        type: SHORT

  - message: gg.rsmod.game.message.impl.ContinueDialogMessage
    type: FIXED
    opcode: 70
    length: 6
    structure:
      - name: hash
        type: INT
        order: INVERSED_MIDDLE
      - name: slot
        sign: UNSIGNED
        type: SHORT
        trans: ADD

  - message: gg.rsmod.game.message.impl.ExamineObjectMessage
    type: FIXED
    opcode: 36
    length: 2
    structure:
      - name: id
        sign: UNSIGNED
        type: SHORT
        trans: ADD

  - message: gg.rsmod.game.message.impl.ItemActionOneMessage
    type: FIXED
    opcode: 87
    length: 8
    structure:
      - name: item
        sign: UNSIGNED
        order: LITTLE
        type: SHORT
      - name: interfaceHash
        type: INT
        order: MIDDLE
      - name: slot
        type: SHORT
        sign: UNSIGNED

  - message: gg.rsmod.game.message.impl.CloseMainInterfaceMessage
    opcode: 20
    length: 0

  - message: gg.rsmod.game.message.impl.IgnoreMessage # Unknown message
    opcode: 39
    length: 4

  - message: gg.rsmod.game.message.impl.IgnoreMessage # Unknown message
    opcode: 49
    length: 0

  - message: gg.rsmod.game.message.impl.IgnoreMessage # Unknown message
    opcode: 34
    length: -1

  - message: gg.rsmod.game.message.impl.IgnoreMessage # Unknown message
    opcode: 41
    length: 6

  - message: gg.rsmod.game.message.impl.IgnoreMessage # Keep alive message
    opcode: 22
    length: 0

  - message: gg.rsmod.game.message.impl.IgnoreMessage # Request new region
    opcode: 76
    length: 0

  - message: gg.rsmod.game.message.impl.IgnoreMessage # Reconnection
    opcode: 4
    length: -1

  - message: gg.rsmod.game.message.impl.IgnoreMessage # Window focus state change
    opcode: 73
    length: 1

  - message: gg.rsmod.game.message.impl.IgnoreMessage # Key press message
    opcode: 67
    length: -2